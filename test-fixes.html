<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Ticketmaster Fixes</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-link {
            display: inline-block;
            background: #1976d2;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 4px;
            margin: 10px 5px;
        }
        .test-link:hover {
            background: #1565c0;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <h1>üé´ Ticketmaster Fixes Test Page</h1>
    
    <div class="test-section">
        <h2>‚úÖ Fixes Applied</h2>
        <div class="status success">
            <strong>404 Errors Fixed:</strong> Replaced missing favicon and PayPal image with data URIs
        </div>
        <div class="status success">
            <strong>Font Loading Fixed:</strong> Added fallback fonts and font-display: swap
        </div>
        <div class="status success">
            <strong>URL Parameter Handling Fixed:</strong> Improved custom message display and error handling
        </div>
        <div class="status success">
            <strong>Console Errors Fixed:</strong> Added proper error handling and null checks
        </div>
    </div>

    <div class="test-section">
        <h2>üß™ Test Links</h2>
        <p>Click these links to test the ticket acceptance flow with different parameters:</p>
        
        <a href="index.html?recipientName=John+Doe&senderName=Jane+Smith&eventName=Test+Event&eventDetails=Test+Venue&eventDate=Mon%2C+Dec+15%2C+2025%2C+1%3A00+PM&eventTime=1%3A00+PM&ticketCount=2&section=A&row=1&seats=1%2C2&ticketType=Seated&customMessage=Your+tickets+are+ready+for+transfer+and+will+be+activated+upon+acceptance" 
           class="test-link">
            Test with Custom Message
        </a>
        
        <a href="index.html?recipientName=Alice+Johnson&senderName=Bob+Wilson&eventName=Concert+Night&eventDetails=Madison+Square+Garden&eventDate=Tue%2C+Dec+24%2C+2024&eventTime=8%3A00+PM&ticketCount=1&section=VIP&row=5&seats=10&ticketType=Standing" 
           class="test-link">
            Test without Custom Message
        </a>
        
        <a href="index.html" 
           class="test-link">
            Test Default Page
        </a>
    </div>

    <div class="test-section">
        <h2>üîç What to Check</h2>
        <div class="status info">
            <strong>Console:</strong> Should show no 404/403 errors for missing resources
        </div>
        <div class="status info">
            <strong>Custom Messages:</strong> Should display properly when URL parameters are present
        </div>
        <div class="status info">
            <strong>Fonts:</strong> Should load with fallbacks if external fonts fail
        </div>
        <div class="status info">
            <strong>Favicon:</strong> Should show ticket emoji instead of broken image
        </div>
    </div>

    <div class="test-section">
        <h2>üìù Console Test</h2>
        <p>Open the browser console and check for these improvements:</p>
        <ul>
            <li>No more 404 errors for favicon.ico</li>
            <li>No more 403 errors for font files</li>
            <li>No more 404 errors for PayPal image</li>
            <li>Custom message parameters should be logged properly</li>
            <li>Error handling should prevent crashes</li>
        </ul>
    </div>

    <script>
        // Test the URL parameter functionality
        function testUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            console.log('Current URL parameters:', Object.fromEntries(urlParams));
            
            // Test custom message parameter
            const customMessage = urlParams.get('customMessage');
            if (customMessage) {
                console.log('‚úÖ Custom message found:', customMessage);
            } else {
                console.log('‚ÑπÔ∏è No custom message in URL parameters');
            }
        }
        
        // Run test when page loads
        document.addEventListener('DOMContentLoaded', testUrlParams);
    </script>
</body>
</html>
